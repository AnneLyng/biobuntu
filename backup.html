<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2021-05-06 Thu 09:49 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>biobuntu backup</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Thomas Alexander Gerds Thomas A. Gerds" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: auto;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline; margin-top: 14px;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .equation-container {
    display: table;
    text-align: center;
    width: 100%;
  }
  .equation {
    vertical-align: middle;
  }
  .equation-label {
    display: table-cell;
    text-align: right;
    vertical-align: middle;
  }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="https://publicifsv.sund.ku.dk/~tag/styles/practicals.css" />
<script type="text/javascript">
// @license magnet:?xt=urn:btih:e95b018ef3580986a04669f1b5879592219e2a7a&dn=public-domain.txt Public Domain
<!--/*--><![CDATA[/*><!--*/
     function CodeHighlightOn(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.add("code-highlighted");
         target.classList.add("code-highlighted");
       }
     }
     function CodeHighlightOff(elem, id)
     {
       var target = document.getElementById(id);
       if(null != target) {
         elem.classList.remove("code-highlighted");
         target.classList.remove("code-highlighted");
       }
     }
    /*]]>*///-->
// @license-end
</script>
</head>
<body>
<p class="course-menu"><a accesskey="h" href="README.html">Home</a>&nbsp;<a accesskey="p" href="https://github.com/tagteam">github</a></p><div id="preamble" class="status">
<br>Thomas Alexander Gerds Thomas A. Gerds
</div>
<div id="content">
<h1 class="title">biobuntu backup</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org3025cf1">Backup all or some files</a>
<ul>
<li><a href="#org17cf214">Philosophy</a></li>
<li><a href="#orgcc72045">Install unison (on ubuntu)</a></li>
<li><a href="#orga786682">Setup a unison profile</a></li>
<li><a href="#org8bf4722">Run unison</a></li>
</ul>
</li>
</ul>
</div>
</div>

<div id="outline-container-org3025cf1" class="outline-2">
<h2 id="org3025cf1">Backup all or some files</h2>
<div class="outline-text-2" id="text-org3025cf1">
</div>
<div id="outline-container-org17cf214" class="outline-3">
<h3 id="org17cf214">Philosophy</h3>
<div class="outline-text-3" id="text-org17cf214">
<p>
It is important that you backup your work. It may not be necessary to
backup all files in your home directory as this would include
auto-generated ubuntu system related files. A good approach is to save
work in folders and then add some selected files which are naturally
living in your home directory and do need backup (e.g., ~/.bashrc).
</p>

<p>
The backup philosophy here is <i>better save than sorry</i>. Hence, we use
the platform independent graphical interface <code>unison</code> to synchronize
our files. This allows us to check the <b>direction</b> of the proposed
changes before they are applied. For example, if the clock of the
server is not set correctly we could otherwise risk to overwrite our
precious work with an older version.
</p>
</div>
</div>

<div id="outline-container-orgcc72045" class="outline-3">
<h3 id="orgcc72045">Install unison (on ubuntu)</h3>
<div class="outline-text-3" id="text-orgcc72045">
<p>
It may be possible to install unison using system facilities but since
unison works best (read: works only if) when it has been build with
the same ocaml version on both machines we recommend the following: 
</p>

<ol class="org-ol">
<li>Download the newest version here: <a href="https://github.com/bcpierce00/unison/releases">https://github.com/bcpierce00/unison/releases</a></li>
<li>Unpack the tar ball via shell command (terminal):</li>
</ol>

<p>
<code>tar xfz unison-v2.51.4_rc1+ocaml-4.05.0+x86_64.linux.tar.gz</code>
</p>

<ol class="org-ol">
<li value="3">Copy the files unison and unison-gtk2 to a place where your computer finds them</li>
</ol>

<p>
This typically is a folder called <code>bin</code> in home directory, i.e.,
<code>~/bin</code>. Then, check if your personal <code>bin</code> folder is in the path.  To
do so, look at the result of <code>echo $PATH</code> in a terminal. If your
personal <code>bin</code> folder is not in the path add the following lines
to the file <code>~/.bashrc</code>: 
</p>

<div class="org-src-container">
<pre class="src src-sh"><span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">set PATH so it includes user's private bin if it exists</span>
 <span style="font-weight: bold;">if</span> [ -d ~/bin ]; <span style="font-weight: bold;">then</span>
   <span style="font-weight: bold; font-style: italic;">PATH</span>=~/bin:<span style="font-style: italic;">"${PATH}"</span>
 <span style="font-weight: bold;">fi</span>
</pre>
</div>
<p>
A final check is to evaluate the shell commands <code>which
unison</code> and <code>which unison-gtk2</code>. They should show the freshly unpacked unison
binaries.
</p>

<ol class="org-ol">
<li value="4">Copy the exact same files also to a <code>bin</code> folder in your
respective home folder on <code>doob</code>. You can do this with secure copy,
i.e., <code>scp</code>. The machine called <code>doob</code> is a virtual linux server
which runs redhat (not ubuntu). Make sure that also here the shell commands
<code>which unison</code> and <code>which unison-gtk2</code> show the freshly unpacked
unison binaries also on doob.</li>
</ol>
</div>
</div>

<div id="outline-container-orga786682" class="outline-3">
<h3 id="orga786682">Setup a unison profile</h3>
<div class="outline-text-3" id="text-orga786682">
<p>
The profiles are saved in the folder <code>~/.unison/</code> with extension
<code>.prf</code>.  The profiles are server specific but you can have an almost
identical copy for the servers, e.g., the two files
<code>~/.unison/doob.prf</code> and <code>~/.unison/gauss.prf</code> differ only by one
line. See the example below and the manual for syntax of this file:
</p>

<p>
<a href="http://www.cis.upenn.edu/~bcpierce/unison/download/releases/stable/unison-manual.html">http://www.cis.upenn.edu/~bcpierce/unison/download/releases/stable/unison-manual.html</a>
</p>

<p>
Example: contents of file <code>~/.unison/doob.prf</code>. Change <code>ubuntu-user</code> with your ubuntu user name and <code>bio737</code> with your
KU-id:
</p>

<pre class="example" id="org9a3a27c">
# Roots of the synchronization
root = /home/ubuntu-user/
root = ssh://bio737@doob//home/ifsv/bio737/

# files
path=.Rprofile
path=.bashrc
path=.unison/doob.prf
path=.gitconfig
path=.emacs

# folders
path=Desktop
path=research
path=bin

# don't synchronise everything (regexp)
ignore = Name *.exe
ignore = Name *.o 
ignore = Name *~
</pre>
</div>
</div>

<div id="outline-container-org8bf4722" class="outline-3">
<h3 id="org8bf4722">Run unison</h3>
<div class="outline-text-3" id="text-org8bf4722">
<div class="org-src-container">
<pre class="src src-sh">unison-gtk -addversionno doob.prf
</pre>
</div>

<p>
Then check if all directions are plausible, resolve <code>?</code> (if any), and press <code>GO</code>. 
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
Last update: 06 May 2021 by Thomas Alexander Gerds.
</div>
</body>
</html>
